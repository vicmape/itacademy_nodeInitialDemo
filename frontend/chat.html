<!DOCTYPE html>
<html>
  <head>
    <title>4CHAT</title>
    <style>
      body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }

      #form { background: rgba(0, 0, 0, 0.15); padding: 0.25rem; display: flex; height: 50px; box-sizing: border-box; backdrop-filter: blur(10px); }
      #input { border: none; padding: 0 1rem; flex-grow: 1; border-radius: 2rem; margin: 0.25rem; }
      #input:focus { outline: none; }
      #form > button { background: #333; border: none; padding: 0 1rem; margin: 0.25rem; border-radius: 2rem; outline: none; color: #fff; }

      #messages { list-style-type: none; margin: 0; padding: 0; overflow-y: auto; max-height: calc(100% - 50px);}
      #messages > li { padding: 0.5rem 1rem; word-break: break-all;}
      #messages > li:nth-child(odd) { background: #efefef; }

      .red {
        background: red;
      }
      .blue {
        background: blue;
      }
      .lime {
        background: lime;
      }
      .orange {
        background: orange;
      }
      .pink {
        background: pink;
      }

      .flex{
        display:flex
      }

      .header {
        height: 100px;
        padding: 0 1rem;
        align-items: center;
        justify-content: space-between;
      }
      .header__button {
        height: 35px;
        background: #333; border: none; padding: 0 1rem; margin: 0.25rem; border-radius: 2rem; outline: none; color: #fff; 
      }

      .chat {
        height: calc(100vh - 100px); /* 10% del header */
      }
      .chat__rooms {
        width: 20%;
      }
      .chat__rooms__button__delete {
        background-color: red;
        border: none;
        color: red;
        padding: 7px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 1px;
        margin: 4px 2px;
        border-radius: 80%; 
      }
      .chat__rooms__button__select {
        background-color: pink;
        border: none;
        color: pink;
        padding: 7px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 1px;
        margin: 4px 2px;
        border-radius: 80%; 
      }
      .chat__messages {
        width: 60%;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
      }
      .chat__users {
        width: 20%;
      }
    </style>
    <link rel="icon" href="img/whatsapp.png" type="image/png" sizes="16x16">
  </head>
  <body>
    <header class="flex header">
      <h1>CHAT</h1>
      <h1 id="userName">USER:</h1>
      <h1 id="roomName">ROOM:</h1>
      <button class="header__button" type="button" onclick="logout()">Logout</button>
      <button class="header__button" type="button" onclick="clearStorage()">Clear storage</button>
    </header>

    <div class="flex chat">
      <aside class="chat__rooms">
        <ul id="roomList"></ul>
        <form id="roomForm" onsubmit="return createRoom(this)">
          <p><label><input type="text" name="roomName" placeholder="Room name " maxlength="15" spellcheck="false" required></label></p>
          <input type="submit" value="Create Room">
        </form>
      </aside>
      
      <main class="chat__messages">
        <ul id="messages"></ul>
        <form id="form" action="">
          <input id="input" autocomplete="off" autofocus/>
          <button>Send</button>
        </form>
      </main>

      <aside class="chat__users">
        <ul id="roomUsers"></ul>
      </aside>
    </div>

  </body>
</html>

<script src="https://cdn.socket.io/4.5.0/socket.io.min.js" integrity="sha384-7EyYLQZgWBi67fBtVxw60/OWl1kjsfrPFcaU0pp0nAh+i8FD068QogUvg85Ewy1k" crossorigin="anonymous"></script>

<script src="./components/utils.js"></script>
<script src="./components/logout.js"></script>
<script src="./components/checkAuth.js"></script>


<script src="./components/users.js"></script>
<script src="./components/rooms.js"></script>
<script src="./components/sockets.js"></script>


<script src="./components/initChat.js"></script>
